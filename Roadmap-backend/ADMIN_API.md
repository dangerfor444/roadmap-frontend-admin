

# üõ†Ô∏è Roadmap Hub ‚Äî Admin API

–í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–∏–∂–µ —Ç—Ä–µ–±—É—é—Ç:

- –ó–∞–≥–æ–ª–æ–≤–æ–∫ `x-api-key`: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á —Å–µ—Ä–≤–∏—Å–∞
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <admin_token>`

---

## üìå –†–æ–∞–¥–º–∞–ø—ã

### `GET /admin/roadmaps`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–æ–∞–¥–º–∞–ø–æ–≤ —Å–µ—Ä–≤–∏—Å–∞.

**–û—Ç–≤–µ—Ç**
```json
{ "roadmaps": [ { "id": 1, "title": "...", "description": "...", "is_public": true } ] }
```

---

### `POST /admin/roadmaps`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–æ–∞–¥–º–∞–ø.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{ "title": "–ù–∞–∑–≤–∞–Ω–∏–µ", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "is_public": true }
```

**–û—Ç–≤–µ—Ç**
```json
{ "id": ..., "title": "...", ... }
```

---

### `PATCH /admin/roadmaps/:id`
–û–±–Ω–æ–≤–∏—Ç—å —Ä–æ–∞–¥–º–∞–ø.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{ "title": "...", "description": "...", "is_public": true }
```

---

### `DELETE /admin/roadmaps/:id`
–£–¥–∞–ª–∏—Ç—å —Ä–æ–∞–¥–º–∞–ø.

---

## üí° –ò–¥–µ–∏

### `GET /admin/ideas?state=`
–ü–æ–ª—É—á–∏—Ç—å –∏–¥–µ–∏ —Å–µ—Ä–≤–∏—Å–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**
- `state` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `visible`, `hidden`, `spam`

---

### `PATCH /admin/ideas/:id`
–û–±–Ω–æ–≤–∏—Ç—å –∏–¥–µ—é.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{ "title": "...", "body": "...", "state": "visible|hidden|spam" }
```

---

### `DELETE /admin/ideas/:id`
–£–¥–∞–ª–∏—Ç—å –∏–¥–µ—é.

---

## ‚ù§Ô∏è –ì–æ–ª–æ—Å–∞

### `GET /admin/ideas/:id/votes`
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≥–æ–ª–æ—Å–∞ –∑–∞ –∏–¥–µ—é.

**–û—Ç–≤–µ—Ç**
```json
{ "votes": [ { "id": 1, "reaction": "üëç", "voter_ip": "...", "created_at": "..." } ] }
```

---

## üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### `GET /admin/comments?idea=ID`
–ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∏–¥–µ–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**
- `idea` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): ID –∏–¥–µ–∏

---

### `DELETE /admin/comments/:id`
–£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.

---

## ‚úÖ –ó–∞–¥–∞—á–∏

### `GET /admin/tasks`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á —Ç–µ–∫—É—â–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

---

### `DELETE /admin/tasks/:id`
–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É.

---

## üë• –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã

### `GET /admin/admins`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

**–û—Ç–≤–µ—Ç**
```json
[
  { "id": 1, "email": "admin@example.com" },
  { "id": 2, "email": "another@example.com" }
]
```

---

### `POST /admin/admins`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{ "email": "newadmin@example.com", "password": "secret123" }
```

**–û—Ç–≤–µ—Ç**
```json
{ "id": 3, "email": "newadmin@example.com" }
```

---

### `DELETE /admin/admins/:id`
–£–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID.

**–û—Ç–≤–µ—Ç**
- `204 No Content` –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏
- `404` –µ—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω

---

### `PATCH /admin/admins/:id/pass`
–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{ "password": "newPassword456" }
```

**–û—Ç–≤–µ—Ç**
- `204 No Content` –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- `404` –µ—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω